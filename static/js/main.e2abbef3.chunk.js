(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s),a=n(3),o=n.n(a),r=(n(15),n(4)),h=n(5),c=n(8),u=n(6),l=n(1),d=n(7);n(16);var k=function(e){return i.a.createElement("button",{className:"start-button",type:"button",onClick:e.startGame},"Play Snak3s!")};var S=function(e){return i.a.createElement("div",null,i.a.createElement("h1",null,"GAME OVER!"),i.a.createElement("h2",null,"You scored: ",e.currentScore))};var y=function(e){return i.a.createElement("h2",null,i.a.createElement("em",null,e.score))},m=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={currentScreen:"start",highestScore:0,currentScore:0,snakeLength:3,snakeBody:[],snakePosition:{x:30,y:30},starPosition:{x:325,y:20},iteration:0,snakeSpeed:{x:5,y:0}},e.canvasRef=i.a.createRef(),e.startGame=e.startGame.bind(Object(l.a)(e)),e}return Object(d.a)(t,e),Object(h.a)(t,[{key:"randomNumberGen",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}},{key:"componentDidMount",value:function(){this.canvas=this.canvasRef.current,this.context=this.canvas.getContext("2d"),this.anim=requestAnimationFrame(this.startGame)}},{key:"startGame",value:function(){console.log("Startgame triggered"),this.setState(function(e){return{currentScreen:"playing"}}),++this.iteration<4||(this.iteration=0,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.snakePosition.x+=this.snakeSpeed.x,this.snakePosition.y+=this.snakeSpeed.y,this.snakePosition.x<0?this.snakePosition.x=this.canvas.width-this.snakeSpeed.x:this.snakePosition.x>=this.canvas.width&&(this.snakePosition.x=0),this.snakePosition.y<0?this.snakePosition.y=this.canvas.height-this.snakeSpeed.x:this.snakePosition.y>=this.canvas.height&&(this.snakePosition.y=0),this.snakeBody.unshift({x:this.snakePosition.x,y:this.snakePosition.y}),this.snakeBody.length>this.snakeLength&&this.snakeBody.pop(),this.context.fillStyle="yellow",this.context.fillRect(this.starPosition.x,this.starPosition.y,this.snakeSpeed.x-1,this.snakeSpeed.x-1),console.log("First print done!"),this.context.fillStyle="green",this.snakeBody.forEach(function(e,t){this.context.fillRect(e.x,e.y,this.snakeSpeed.x-1,this.snakeSpeed.x-1),e.x===this.starPosition.x&&e.y===this.starPosition.y&&(this.snakeLength++,this.setState(function(e){return{currentScore:e.currentScore+10}}),this.starPosition.x=this.randomNumberGen(0,100)*this.snakeSpeed.x,this.starPosition.y=this.randomNumberGen(0,100)*this.snakeSpeed.x);for(var n=t+1;n<this.snakeBody.length;n++)e.x===this.snakeBody[n].x&&e.y===this.snakeBody[n].y&&(this.highScore<this.currentScore?this.setState(function(e){return{highScore:e.currentScore}}):this.setState(function(e){return{highscore:e.highScore}}),this.setState({currentScreen:"stop",currentScore:0,snakeLength:3,snakeBody:[],snakePosition:{x:160,y:160},starPosition:{x:320,y:320},snakeSpeed:{x:16,y:0}}))}),this.anim=requestAnimationFrame(this.startGame))}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.anim)}},{key:"decideDirection",value:function(e){console.log(e),37===e.keyCode&&0===this.snakeSpeed.x?(this.snakeSpeed.x=-this.snakeSpeed.x,this.snakeSpeed.y=0):38===e.keyCode&&0===this.snakeSpeed.y?(this.snakeSpeed.y=-this.snakeSpeed.x,this.snakeSpeed.x=0):39===e.keyCode&&0===this.snakeSpeed.x?(this.snakeSpeed.x=this.snakeSpeed.x,this.snakeSpeed.y=0):40===e.keyCode&&0===this.snakeSpeed.y&&(this.snakeSpeed.y=this.snakeSpeed.x,this.snakeSpeed.x=0)}},{key:"setSpeed",value:function(){}},{key:"render",value:function(){return"start"===this.state.currentScreen?i.a.createElement("div",null,i.a.createElement("canvas",{ref:this.canvasRef,width:500,height:500}),i.a.createElement(k,{startGame:this.startGame})):"playing"===this.state.currentScreen?i.a.createElement("div",{className:"App",onKeyDown:this.decideDirection},i.a.createElement("canvas",{ref:this.canvasRef,width:500,height:500}),i.a.createElement("h2",null,"High Score: "),i.a.createElement(y,{score:this.state.currentScore}),i.a.createElement("h2",null,"Current Score: "),i.a.createElement(y,{score:this.state.highestScore})):"stop"===this.state.currentScreen?i.a.createElement(S,{currentScore:this.currentScore}):void 0}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.e2abbef3.chunk.js.map