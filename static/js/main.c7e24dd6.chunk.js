(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(3),o=n.n(i),r=(n(15),n(4)),c=n(5),h=n(8),u=n(6),d=n(1),k=n(7);n(16);var l=function(e){return a.a.createElement("button",{className:"start-button",type:"button",onClick:e.startGame},"Play Snak3s!")};var S=function(e){return a.a.createElement("div",null,a.a.createElement("h1",null,"GAME OVER!"),a.a.createElement("h2",null,"You scored: ",e.currentScore))};var y=function(e){return a.a.createElement("h2",null,a.a.createElement("em",null,e.score))},x=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={currentScreen:"start",highestScore:0,currentScore:0,snakeLength:3,snakeBody:[],snakePosition:{x:30,y:30},starPosition:{x:325,y:20},iteration:0,snakeSpeed:{x:5,y:0},canvasWidth:500,canvasHeight:500},n.canvasRef=a.a.createRef(),n.startGame=n.startGame.bind(Object(d.a)(n)),n}return Object(k.a)(t,e),Object(c.a)(t,[{key:"randomNumberGen",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}},{key:"componentDidUpdate",value:function(){this.canvas=this.canvasRef.current,this.context=this.canvas.getContext("2d"),requestAnimationFrame(this.startGame)}},{key:"startGame",value:function(){var e=this;console.log("Startgame triggered"),this.setState(function(e){return{currentScreen:"playing"}}),console.log(this.state.snakePosition.x),++this.iteration<4||(this.iteration=0,this.context&&this.canvas&&this.context.clearRect(0,0,this.state.canvasWidth,this.state.canvasHeight),this.setState(function(e){return{snakePosition:{x:e.snakePosition.x+e.snakeSpeed.x,y:e.snakePosition.y+e.snakeSpeed.y}}}),this.state.snakePosition.x<0?this.setState(function(t){return{snakePosition:{x:e.state.canvasWidth-t.snakeSpeed.x,y:t.snakePosition.y}}}):this.state.snakePosition.x>=this.state.canvasWidth&&this.setState(function(e){return{snakePosition:{x:0,y:e.snakePosition.y}}}),this.state.snakePosition.y<0?this.setState(function(e){return{snakePosition:{x:e.snakeSpeed.x,y:e.canvasHeight-e.snakeSpeed.x}}}):this.state.snakePosition.y>=this.state.canvasHeight&&this.setState(function(e){return{snakePosition:{x:e.snakeSpeed.x,y:0}}}),this.setState(function(e){return{snakeBody:e.snakeBody.unshift({x:e.snakePosition.x,y:e.snakePosition.y})}}),this.state.snakeBody.length>this.state.snakeLength&&this.setState(function(e){return{snakeBody:e.snakeBody.pop()}}),this.context.fillStyle="yellow",this.context.fillRect(this.state.starPosition.x,this.state.starPosition.y,this.state.snakeSpeed.x-1,this.state.snakeSpeed.x-1),console.log("First print done!"),this.context.fillStyle="green",this.state.snakeBody.forEach(function(e,t){var n=this;this.context.fillRect(e.x,e.y,this.state.snakeSpeed.x-1,this.state.snakeSpeed.x-1),e.x===this.state.starPosition.x&&e.y===this.state.starPosition.y&&this.setState(function(e){return{snakeLength:e.snakeLength+1,currentScore:e.currentScore+10,starPosition:{x:n.randomNumberGen(0,100)*e.snakeSpeed.x,y:n.randomNumberGen(0,100)*e.snakeSpeed.x}}});for(var s=t+1;s<this.state.snakeBody.length;s++)e.x===this.state.snakeBody[s].x&&e.y===this.state.snakeBody[s].y&&(this.state.highScore<this.state.currentScore?this.setState(function(e){return{highScore:e.currentScore}}):this.setState(function(e){return{highscore:e.highScore}}),this.setState({currentScreen:"stop",currentScore:0,snakeLength:3,snakeBody:[],snakePosition:{x:160,y:160},starPosition:{x:320,y:320},snakeSpeed:{x:16,y:0}}))}),this.anim=requestAnimationFrame(this.startGame))}},{key:"decideDirection",value:function(e){console.log(e),37===e.keyCode&&0===this.snakeSpeed.x?(this.snakeSpeed.x=-this.snakeSpeed.x,this.snakeSpeed.y=0):38===e.keyCode&&0===this.snakeSpeed.y?(this.snakeSpeed.y=-this.snakeSpeed.x,this.snakeSpeed.x=0):39===e.keyCode&&0===this.snakeSpeed.x?(this.snakeSpeed.x=this.snakeSpeed.x,this.snakeSpeed.y=0):40===e.keyCode&&0===this.snakeSpeed.y&&(this.snakeSpeed.y=this.snakeSpeed.x,this.snakeSpeed.x=0)}},{key:"setSpeed",value:function(){}},{key:"render",value:function(){return"start"===this.state.currentScreen?a.a.createElement("div",null,a.a.createElement(l,{startGame:this.startGame})):"playing"===this.state.currentScreen?a.a.createElement("div",{className:"App",onKeyDown:this.decideDirection},a.a.createElement("canvas",{ref:this.canvasRef,width:500,height:500}),a.a.createElement("h2",null,"High Score: "),a.a.createElement(y,{score:this.state.currentScore}),a.a.createElement("h2",null,"Current Score: "),a.a.createElement(y,{score:this.state.highestScore})):"stop"===this.state.currentScreen?a.a.createElement(S,{currentScore:this.currentScore}):void 0}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.c7e24dd6.chunk.js.map